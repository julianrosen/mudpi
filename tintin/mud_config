#nop Move multiple rooms at once
#config {speedwalk} {on}

#nop Don't display connecting messages
#gag {#SESSION}
#gag {#TRYING}
#gag {Use ANSI Color?}

#nop Mudpi uses these strings to communicate with TinTin
#gag {@^ton}
#gag {@^toff}
#gag {@^p1}
#gag {@^p2}

#nop Enable static prompt
#alias {setttprompt}
{
    #prompt {~@^p1%%1}{%%1}{-2};
    #prompt {~@^p2%%1}{%%1}{-1};
    #split;
    #mudpi on;
}

#nop Disable static prompt
#alias {unsetttprompt}
{
    #unprompt {~@^p1%%1};
    #unprompt {~@^p2%%1};
    #split 0 0;
    #mudpi off;
    #screen clear bottom;
}

#nop Mud uses this string to enable prompt
#action {^@^ton %1}
{
    #delay {0.05} {setttprompt};
    #delay {0.05} {#cr};
    #delay {0.05} {#screen clear bottom};
    #delay {0.05} {#screen clear input};
    #mudpi on;
    #mudpi %1;
}

#nop Mud uses this string to disable prompt
#action {^@^toff}
{
    unsetttprompt;
}

#nop When Mudpi processes 'compact' command, TinTin
#nop switches compact mode on or off
#action {^Compact mode set.} {#mudpi compact}
#action {^Compact mode removed.} {#mudpi noncompact}

#nop When we receive a non-prompt output line, update the variable
#nop that controlls spacing of TinTin input lines
#event {RECEIVED LINE} {#regexp {%1} {^@^{.*}} {} {#shownoutput}}

#nop Terminate session upon disconnect
#event {SESSION DISCONNECTED} {#end}

#nop This string is entered at ANSI prompt. It's;
#nop how TinTin tells Mudpi to use optimized prompt.;
#event {SESSION CONNECTED} {ti}

#nop On screen resize, clear those weird lines that appear and redraw prompt
#event {SCREEN RESIZE} {#screen clear input;#screen clear bottom;#cr}

#nop Connect to the mud
#ses mud_pi localhost 20495
